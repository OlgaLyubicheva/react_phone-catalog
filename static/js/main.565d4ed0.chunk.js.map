{"version":3,"sources":["components/homePage/HomePage.js","components/phonecatalog/PhoneCatalog.js","components/filter/Filter.js","components/loadingData.js","components/phonesPage/PhonesPage.js","components/notFoundPage/NotFoundPage.js","components/phoneDetails/PhoneDetails.js","components/phoneDetailsPage/PhoneDetailsPage.js","components/basket/Basket.js","App.js","index.js"],"names":["HomePage","countBasketItems","localStorage","buy","split","length","react_default","a","createElement","Fragment","className","withRouter","_ref","phones","match","history","url","map","phone","key","id","src","concat","imageUrl","alt","react_router_dom","to","name","snippet","type","disabled","getItem","onClick","setItem","replace","location","searchValues","pathname","handleChange","event","_event$target","target","value","newsearchValues","Object","objectSpread","newSearch","entries","filter","prop","push","join","query","onChange","e","sort","basicUrl","loadData","asyncToGenerator","regenerator_default","mark","_callee","response","data","wrap","_context","prev","next","fetch","sent","json","abrupt","stop","_x","apply","this","arguments","getPhones","_ref2","_callee2","_context2","getPhoneDetails","_ref3","_callee3","phoneId","_context3","_x2","getSortFunc","values","field","sortWay","b","localeCompare","PhonePage","state","getFiltredPhones","filtredPhones","_this","toLowerCase","includes","toConsumableArray","_this2","then","setState","search","props","partsOfSeach","slice","i","_partsOfSeach$i$split","_partsOfSeach$i$split2","slicedToArray","filter_Filter","phonecatalog_PhoneCatalog","React","Component","NotFoundPage","PhoneDetails","PhoneDetailsPage","mainImg","isError","changeImg","image","addToBasket","params","images","catch","error","_this3","_this$state","description","undefined","phoneDetails_PhoneDetails","Basket","currentBuy","item","deleteItem","newBuy","removeItem","index","indexOf","decrease","increase","App","exact","activeClassName","react_router","path","component","PhonesPage","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"0UAoBeA,EAlBE,WACf,IAAMC,EAAmBC,aAAaC,IAAMD,aAAaC,IAAIC,MAAM,KAAKC,OAAS,EAEjF,OACEC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KAEyB,IAArBR,GACEK,EAAAC,EAAAC,cAAA,OAAKE,UAAU,yBACS,IAArBT,GAA0BA,GAKjCK,EAAAC,EAAAC,cAAA,2ECiESG,qBA3EM,SAAAC,GAAgC,IAA7BC,EAA6BD,EAA7BC,OAAQC,EAAqBF,EAArBE,MAAOC,EAAcH,EAAdG,QAC7BC,EAAQF,EAARE,IACFf,EAAmBC,aAAaC,IAAMD,aAAaC,IAAIC,MAAM,KAAKC,OAAS,EAcjF,OACEC,EAAAC,EAAAC,cAAA,QAAME,UAAU,iBAES,IAArBT,GACEK,EAAAC,EAAAC,cAAA,OAAKE,UAAU,yBACS,IAArBT,GAA0BA,GAKhCY,EAAOI,IAAI,SAAAC,GAAK,OACfZ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,uBAAuBS,IAAKD,EAAME,IAC/Cd,EAAAC,EAAAC,cAAA,OAAKE,UAAU,6BACbJ,EAAAC,EAAAC,cAAA,OAAKa,IAAG,KAAAC,OAAOJ,EAAMK,UAAYC,IAAI,MAGvClB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,8BACbJ,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAMC,GAAE,GAAAJ,OAAKN,EAAL,KAAAM,OAAYJ,EAAME,KACvBF,EAAMS,MAGTrB,EAAAC,EAAAC,cAAA,SACGU,EAAMU,UAIXtB,EAAAC,EAAAC,cAAA,UACEqB,KAAK,SACLC,SAAU5B,aAAa6B,QAAQb,EAAME,MAAO,EAC5CV,UAAU,4BACVsB,QAAS,kBA1CEZ,EA0CgBF,EAAME,GA1ClBO,EA0CsBT,EAAMS,KAzC/CzB,aAAa6B,QAAQ,OACvB7B,aAAaC,KAAb,IAAAmB,OAAwBF,EAAxB,MAEAlB,aAAaC,IAAb,GAAAmB,OAAsBF,EAAtB,MAGFlB,aAAa+B,QAAQb,EAAIO,QAEzBZ,EAAQmB,QAAQnB,EAAQoB,UATN,IAACf,EAAIO,IA6CbzB,aAAa6B,QAAQb,EAAME,IACvB,kBACA,sBCKHT,qBAxDA,SAAAC,GAA+B,IAA5BG,EAA4BH,EAA5BG,QAASqB,EAAmBxB,EAAnBwB,aACjBC,EAAatB,EAAQoB,SAArBE,SAEFC,EAAe,SAACC,GAAU,IAAAC,EACND,EAAME,OAAtBd,EADsBa,EACtBb,KAAMe,EADgBF,EAChBE,MACRC,EAAeC,OAAAC,EAAA,EAAAD,CAAA,GAAQR,GAE7B,GAAIM,IAAUC,EAAgBhB,GAAO,CACnCgB,EAAgBhB,GAAQe,EAExB,IAAMI,EAAYF,OAAOG,QAAQJ,GAC9BK,OAAO,SAAAC,GAAI,MAAgB,KAAZA,EAAK,KACpBhC,IAAI,SAAAgC,GAAI,SAAA3B,OAAO2B,EAAK,GAAZ,KAAA3B,OAAkB2B,EAAK,MAElClC,EAAQmC,KAAR,GAAA5B,OAAgBe,EAAhB,KAAAf,OAA4BwB,EAAUK,KAAK,SAI/C,OACE7C,EAAAC,EAAAC,cAAA,OAAKE,UAAU,UACbJ,EAAAC,EAAAC,cAAA,SACEE,UAAU,gBACVmB,KAAK,SACLF,KAAK,QACLe,MAAON,EAAagB,MACpBC,SAAU,SAAAC,GAAC,OAAIhB,EAAagB,MAG9BhD,EAAAC,EAAAC,cAAA,UACEE,UAAU,eACViB,KAAK,OACLe,MAAON,EAAamB,KACpBF,SAAU,SAAAC,GAAC,OAAIhB,EAAagB,KAE5BhD,EAAAC,EAAAC,cAAA,UAAQkC,MAAM,IAAd,WACApC,EAAAC,EAAAC,cAAA,UAAQkC,MAAM,UAAd,cACApC,EAAAC,EAAAC,cAAA,UAAQkC,MAAM,WAAd,cACApC,EAAAC,EAAAC,cAAA,UAAQkC,MAAM,SAAd,uCC1CFc,EAAW,4DAEJC,EAAQ,eAAA7C,EAAAgC,OAAAc,EAAA,EAAAd,CAAAe,EAAApD,EAAAqD,KAAG,SAAAC,EAAM7C,GAAN,IAAA8C,EAAAC,EAAA,OAAAJ,EAAApD,EAAAyD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACCC,MAAMpD,GADP,cAChB8C,EADgBG,EAAAI,KAAAJ,EAAAE,KAAA,EAEHL,EAASQ,OAFN,cAEhBP,EAFgBE,EAAAI,KAAAJ,EAAAM,OAAA,SAIfR,GAJe,wBAAAE,EAAAO,SAAAX,MAAH,gBAAAY,GAAA,OAAA7D,EAAA8D,MAAAC,KAAAC,YAAA,GAORC,EAAS,eAAAC,EAAAlC,OAAAc,EAAA,EAAAd,CAAAe,EAAApD,EAAAqD,KAAG,SAAAmB,IAAA,IAAA/D,EAAAH,EAAA,OAAA8C,EAAApD,EAAAyD,KAAA,SAAAgB,GAAA,cAAAA,EAAAd,KAAAc,EAAAb,MAAA,cACjBnD,EADiB,GAAAM,OACRkC,EADQ,gBAAAwB,EAAAb,KAAA,EAEFV,EAASzC,GAFP,cAEjBH,EAFiBmE,EAAAX,KAAAW,EAAAT,OAAA,SAIhB1D,GAJgB,wBAAAmE,EAAAR,SAAAO,MAAH,yBAAAD,EAAAJ,MAAAC,KAAAC,YAAA,GAOTK,EAAe,eAAAC,EAAAtC,OAAAc,EAAA,EAAAd,CAAAe,EAAApD,EAAAqD,KAAG,SAAAuB,EAAMC,GAAN,IAAApE,EAAAE,EAAA,OAAAyC,EAAApD,EAAAyD,KAAA,SAAAqB,GAAA,cAAAA,EAAAnB,KAAAmB,EAAAlB,MAAA,cACvBnD,EADuB,GAAAM,OACdkC,EADc,YAAAlC,OACK8D,EADL,SAAAC,EAAAlB,KAAA,EAETV,EAASzC,GAFA,cAEvBE,EAFuBmE,EAAAhB,KAAAgB,EAAAd,OAAA,SAItBrD,GAJsB,wBAAAmE,EAAAb,SAAAW,MAAH,gBAAAG,GAAA,OAAAJ,EAAAR,MAAAC,KAAAC,YAAA,GCTtBW,SAAc,SAAC7C,GACnB,IAAM8C,EAAS9C,EAAMtC,MAAM,KACrBqF,EAAQD,EAAO,GACfE,GAAWF,EAAO,GAExB,OAAQC,GACN,IAAK,MACH,OAAO,SAAClF,EAAGoF,GAAJ,OAAUD,GAAWnF,EAAEkF,GAASE,EAAEF,KAC3C,IAAK,OACH,OAAO,SAAClF,EAAGoF,GAAJ,OAAUD,EAAUnF,EAAEkF,GAAOG,cAAcD,EAAEF,KACtD,QAAS,OAAO,SAAClF,EAAGoF,GAAJ,OAAU,MA4EfE,6MAvEbC,MAAQ,CACNjF,OAAQ,MAaVkF,iBAAmB,SAACP,GAClB,IAAIQ,EAAgB,GACZnF,EAAWoF,EAAKH,MAAhBjF,OAcR,OAXEmF,EADER,EAAOpC,MACOvC,EAAOmC,OAAO,SAAA9B,GAAK,OACjCA,EAAMS,KAAKuE,cAAcC,SAASX,EAAOpC,SAG9BR,OAAAwD,EAAA,EAAAxD,CAAO/B,GAGlB2E,EAAOjC,OACTyC,EAAgBpD,OAAAwD,EAAA,EAAAxD,CAAIoD,GAAezC,KAAKgC,EAAYC,EAAOjC,QAGtDyC,sFA1BW,IAAAK,EAAA1B,KAClBE,IAAYyB,KACV,SAACvC,GACCsC,EAAKE,SAAS,CACZ1F,OAAO+B,OAAAwD,EAAA,EAAAxD,CAAKmB,wCAyBX,IACCyC,EAAW7B,KAAK8B,MAAMtE,SAAtBqE,OAEFpE,EAAe,CACnBgB,MAAO,GACPG,KAAM,IAGR,GAAIiD,EAGF,IAFA,IAAME,EAAeF,EAAOG,MAAM,GAAGvG,MAAM,KAElCwG,EAAI,EAAGA,EAAIF,EAAarG,OAAQuG,GAAK,EAAG,KAAAC,EAC1BH,EAAaE,GAAGxG,MAAM,KADI0G,EAAAlE,OAAAmE,EAAA,EAAAnE,CAAAiE,EAAA,GACxC1F,EADwC2F,EAAA,GACnCpE,EADmCoE,EAAA,GAG/C1E,EAAajB,GAAOuB,EAIxB,IAAMsD,EAAgBrB,KAAKoB,iBAAiB3D,GAE5C,OACE9B,EAAAC,EAAAC,cAAA,OAAKE,UAAU,eACbJ,EAAAC,EAAAC,cAACwG,EAAD,CAAQ5E,aAAcA,IAEtB9B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACyG,EAAD,CAAcpG,OAAQmF,aA3DRkB,IAAMC,WCDfC,EAjBM,kBACnB9G,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,4BAKAF,EAAAC,EAAAC,cAAA,4BAEEF,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAAMC,GAAG,KAAT,aAFF,qCCDW2F,SANM,kBACnB/G,EAAAC,EAAAC,cAAA,8BC8Ia8G,oNAzIbxB,MAAQ,CACN5E,MAAO,GACPqG,QAAS,GACTC,QAAS,MAsBXC,UAAY,SAAAC,GAAK,OACfzB,EAAKM,SAAS,CACZgB,QAASG,OAIbC,YAAc,SAACvG,EAAIO,GAAS,IAClBZ,EAAYkF,EAAKQ,MAAjB1F,QAEJb,aAAa6B,QAAQ,OACvB7B,aAAaC,KAAb,IAAAmB,OAAwBF,EAAxB,MAEAlB,aAAaC,IAAb,GAAAmB,OAAsBF,EAAtB,MAGFlB,aAAa+B,QAAQb,EAAIO,GAEzBZ,EAAQmB,QAAQnB,EAAQoB,8FApCN,IAAAkE,EAAA1B,KACVS,EAAYT,KAAK8B,MAAM3F,MAAM8G,OAA7BxC,QAERH,EAAgBG,GAASkB,KACvB,SAACvC,GACCsC,EAAKE,SAAS,CACZrF,MAAM0B,OAAAC,EAAA,EAAAD,CAAA,GAAMmB,GACZwD,QAASxD,EAAK8D,OAAO,OAGzBC,MACA,SAACC,GACC1B,EAAKE,SAAS,CACZiB,QAASO,uCA0BR,IAAAC,EAAArD,KAAAsD,EAC6BtD,KAAKmB,MAAjC5E,EADD+G,EACC/G,MAAOqG,EADRU,EACQV,QAASC,EADjBS,EACiBT,QAClBvH,EAAmBC,aAAaC,IAAMD,aAAaC,IAAIC,MAAM,KAAKC,OAAS,EAEjF,OACEC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,sBAEU,IAArBT,GACEK,EAAAC,EAAAC,cAAA,OAAKE,UAAU,yBACS,IAArBT,GAA0BA,GAM9BuH,EAwDGlH,EAAAC,EAAAC,cAAA,4CAtDAF,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gCACbJ,EAAAC,EAAAC,cAAA,OAAKa,IAAKkG,EAAS/F,IAAI,MAGzBlB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,4BACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,kCACbJ,EAAAC,EAAAC,cAAA,UACGU,EAAMS,MAGTrB,EAAAC,EAAAC,cAAA,UACEqB,KAAK,SACLC,SAAU5B,aAAa6B,QAAQb,EAAME,MAAO,EAC5CV,UAAU,4BACVsB,QAAS,kBAAMgG,EAAKL,YAAYzG,EAAME,GAAIF,EAAMS,QAG9CzB,aAAa6B,QAAQb,EAAME,IACvB,kBACA,QAKVd,EAAAC,EAAAC,cAAA,SACGU,EAAMgH,aAGT5H,EAAAC,EAAAC,cAAA,OAAKE,UAAU,mCAEVQ,EAAM2G,QACF3G,EAAM2G,OAAO5G,IAAI,SAAAyG,GAAK,OACvBpH,EAAAC,EAAAC,cAAA,OACEE,UAAS,gEAAAY,OACLiG,IAAYG,EAAQ,cAAWS,IAEnC7H,EAAAC,EAAAC,cAAA,OACEa,IAAG,KAAAC,OAAOoG,GACVlG,IAAI,GACJQ,QAAS,kBAAMgG,EAAKP,UAAUC,WAQ5CpH,EAAAC,EAAAC,cAAA,OAAKY,GAAG,UAAUV,UAAU,+BAC1BJ,EAAAC,EAAAC,cAAC4H,EAAD,gBAhHalB,IAAMC,YCmHtBkB,SAtHA,SAAAzH,GAAiB,IAAdG,EAAcH,EAAdG,QACVuH,EAAapI,aAAaC,KAC3BD,aAAaC,IACbC,MAAM,KACNa,IAAI,SAAAsH,GAAI,OAAIA,EAAKnI,MAAM,OAEtBoI,EAAa,SAACpH,GAClB,IAAIqH,EAASH,EAAWtF,OAAO,SAAAuF,GAAI,OAAIA,EAAK,KAAOnH,IAEnDlB,aAAawI,WAAWtH,GAEF,IAAlBqH,EAAOpI,QACToI,EAASA,EAAOxH,IAAI,SAAAsH,GAAI,OAAIA,EAAKpF,KAAK,OAAMA,KAAK,KACjDjD,aAAa+B,QAAQ,MAAOwG,IAE5BvI,aAAawI,WAAW,OAG1B3H,EAAQmB,QAAQnB,EAAQoB,WAiC1B,OACE7B,EAAAC,EAAAC,cAAA,OAAKE,UAAU,UACbJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,gBAEV4H,EACIA,EAAWrH,IAAI,SAACsH,EAAMI,GAAP,OACfrI,EAAAC,EAAAC,cAAA,MAAIE,UAAU,sBACZJ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,eAAAc,OACMqH,EAAQ,EADd,QAIArI,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CACEC,GAAE,WAAAJ,OAAaiH,EAAK,IACpB7H,UAAU,IAETR,aAAaqI,EAAK,MAIvBjI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UACEqB,KAAK,SACLG,QAAS,kBAxCV,SAACZ,GAChB,IAAIqH,EAAM7F,OAAAwD,EAAA,EAAAxD,CAAO0F,GACXK,EAAQL,EAAWM,QAAQxH,IAE5BA,EAAG,GAAK,IAAM,GACjBqH,EAAOE,GAAS,CAACvH,EAAG,IAAKA,EAAG,GAAK,GAEjCqH,EAASA,EAAOxH,IAAI,SAAAsH,GAAI,OAAIA,EAAKpF,KAAK,OAAMA,KAAK,KAEjDjD,aAAa+B,QAAQ,MAAOwG,GAE5B1H,EAAQmB,QAAQnB,EAAQoB,WAExBqG,EAAWpH,EAAG,IA2BeyH,CAASN,KAF1B,KAOAjI,EAAAC,EAAAC,cAAA,SACEE,UAAU,gBACVgC,MAAO6F,EAAK,KAGdjI,EAAAC,EAAAC,cAAA,UACEqB,KAAK,SACLG,QAAS,kBAjEV,SAACZ,GAChB,IAAIqH,EAAM7F,OAAAwD,EAAA,EAAAxD,CAAO0F,GAGjBG,EAFcH,EAAWM,QAAQxH,IAEjB,CAACA,EAAG,IAAKA,EAAG,GAAK,GAEjCqH,EAASA,EAAOxH,IAAI,SAAAsH,GAAI,OAAIA,EAAKpF,KAAK,OAAMA,KAAK,KAEjDjD,aAAa+B,QAAQ,MAAOwG,GAE5B1H,EAAQmB,QAAQnB,EAAQoB,UAuDO2G,CAASP,KAF1B,KAOAjI,EAAAC,EAAAC,cAAA,UACEE,UAAU,iBACVmB,KAAK,SACLG,QAAS,kBAAMwG,EAAWD,EAAK,MAHjC,SAWJjI,EAAAC,EAAAC,cAAA,OAAKE,UAAU,iBAAf,uBCxDCqI,SA1CH,kBACVzI,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAAA,UAAQE,UAAU,UAChBJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,eACbJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,qBACZJ,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CACEC,GAAG,IACHsH,OAAK,EACLC,gBAAgB,UAHlB,SASF3I,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAASC,GAAG,WAAZ,aAONpB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,kBACbJ,EAAAC,EAAAC,cAACiB,EAAA,EAAD,CAASC,GAAG,WACVpB,EAAAC,EAAAC,cAAA,OAAKa,IAAI,0BAA0BG,IAAI,QAK7ClB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC0I,EAAA,EAAD,KACE5I,EAAAC,EAAAC,cAAC0I,EAAA,EAAD,CAAOC,KAAK,IAAIH,OAAK,EAACI,UAAWpJ,IACjCM,EAAAC,EAAAC,cAAC0I,EAAA,EAAD,CAAOC,KAAK,mBAAmBC,UAAW9B,IAC1ChH,EAAAC,EAAAC,cAAC0I,EAAA,EAAD,CAAOC,KAAK,UAAUC,UAAWC,IACjC/I,EAAAC,EAAAC,cAAC0I,EAAA,EAAD,CAAOC,KAAK,UAAUC,UAAWf,IACjC/H,EAAAC,EAAAC,cAAC0I,EAAA,EAAD,CAAOE,UAAWhC,SCxC1BkC,IAASC,OACPjJ,EAAAC,EAAAC,cAACiB,EAAA,EAAD,KACEnB,EAAAC,EAAAC,cAACgJ,EAAD,OACaC,SAASC,eAAe","file":"static/js/main.565d4ed0.chunk.js","sourcesContent":["import React from 'react';\n\nconst HomePage = () => {\n  const countBasketItems = localStorage.buy ? localStorage.buy.split('&').length : 0;\n\n  return (\n    <>\n      {\n        countBasketItems !== 0 && (\n          <div className=\"header__basket--count\">\n            {countBasketItems !== 0 && countBasketItems}\n          </div>\n        )\n      }\n\n      <h1>Home</h1>\n    </>\n  );\n};\n\nexport default HomePage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, withRouter } from 'react-router-dom';\nimport './phonecatalog.css';\n\nconst PhoneCatalog = ({ phones, match, history }) => {\n  const { url } = match;\n  const countBasketItems = localStorage.buy ? localStorage.buy.split('&').length : 0;\n\n  const addToBasket = (id, name) => {\n    if (localStorage.getItem('buy')) {\n      localStorage.buy += `&${id}*1`;\n    } else {\n      localStorage.buy = `${id}*1`;\n    }\n\n    localStorage.setItem(id, name);\n\n    history.replace(history.location);\n  };\n\n  return (\n    <main className=\"phone-catalog\">\n      {\n        countBasketItems !== 0 && (\n          <div className=\"header__basket--count\">\n            {countBasketItems !== 0 && countBasketItems}\n          </div>\n        )\n      }\n\n      {phones.map(phone => (\n        <div className=\"phone-catalog__phone\" key={phone.id}>\n          <div className=\"phone-catalog__phone--img\">\n            <img src={`./${phone.imageUrl}`} alt=\"\" />\n          </div>\n\n          <div className=\"phone-catalog__phone--info\">\n            <Link to={`${url}/${phone.id}`}>\n              {phone.name}\n            </Link>\n\n            <p>\n              {phone.snippet}\n            </p>\n          </div>\n\n          <button\n            type=\"button\"\n            disabled={localStorage.getItem(phone.id) && true}\n            className=\"phone-catalog__phone--buy\"\n            onClick={() => addToBasket(phone.id, phone.name)}\n          >\n            {\n              localStorage.getItem(phone.id)\n                ? 'Added to basket'\n                : 'Buy'\n            }\n          </button>\n        </div>\n      ))}\n    </main>\n  );\n};\n\nPhoneCatalog.propTypes = {\n  phones: PropTypes.shape({\n    id: PropTypes.string,\n    name: PropTypes.string,\n    snippet: PropTypes.string,\n    imageUrl: PropTypes.string,\n  }).isRequired,\n  match: PropTypes.shape({\n    url: PropTypes.string,\n  }).isRequired,\n  history: PropTypes.shape({\n    replace: PropTypes.func,\n  }).isRequired,\n};\n\nexport default withRouter(PhoneCatalog);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport './filter.css';\n\nconst Filter = ({ history, searchValues }) => {\n  const { pathname } = history.location;\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    const newsearchValues = { ...searchValues };\n\n    if (value !== newsearchValues[name]) {\n      newsearchValues[name] = value;\n\n      const newSearch = Object.entries(newsearchValues)\n        .filter(prop => prop[1] !== '')\n        .map(prop => `${prop[0]}=${prop[1]}`);\n\n      history.push(`${pathname}?${newSearch.join('&')}`);\n    }\n  };\n\n  return (\n    <div className=\"filter\">\n      <input\n        className=\"filter__query\"\n        type=\"search\"\n        name=\"query\"\n        value={searchValues.query}\n        onChange={e => handleChange(e)}\n      />\n\n      <select\n        className=\"filter__sort\"\n        name=\"sort\"\n        value={searchValues.sort}\n        onChange={e => handleChange(e)}\n      >\n        <option value=\"\">Sort by</option>\n        <option value=\"name*1\">Name (a-z)</option>\n        <option value=\"name*-1\">Name (z-a)</option>\n        <option value=\"age*1\">Newest</option>\n      </select>\n    </div>\n  );\n};\n\nFilter.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func,\n    location: PropTypes.shape({\n      pathname: PropTypes.string,\n    }),\n  }).isRequired,\n  searchValues: PropTypes.shape({\n    query: PropTypes.string,\n    sort: PropTypes.string,\n  }).isRequired,\n};\n\nexport default withRouter(Filter);\n","const basicUrl = 'https://mate-academy.github.io/phone-catalogue-static/api';\n\nexport const loadData = async(url) => {\n  const response = await fetch(url);\n  const data = await response.json();\n\n  return data;\n};\n\nexport const getPhones = async() => {\n  const url = `${basicUrl}/phones.json`;\n  const phones = await loadData(url);\n\n  return phones;\n};\n\nexport const getPhoneDetails = async(phoneId) => {\n  const url = `${basicUrl}/phones/${phoneId}.json`;\n  const phone = await loadData(url);\n\n  return phone;\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhoneCatalog from '../phonecatalog/PhoneCatalog';\nimport Filter from '../filter/Filter';\nimport { getPhones } from '../loadingData';\nimport './phonespage.css';\n\nconst getSortFunc = (value) => {\n  const values = value.split('*');\n  const field = values[0];\n  const sortWay = +values[1];\n\n  switch (field) {\n    case 'age':\n      return (a, b) => sortWay * (a[field] - b[field]);\n    case 'name':\n      return (a, b) => sortWay * a[field].localeCompare(b[field]);\n    default: return (a, b) => 0;\n  }\n};\n\nclass PhonePage extends React.Component {\n  state = {\n    phones: [],\n  }\n\n  componentDidMount() {\n    getPhones().then(\n      (data) => {\n        this.setState({\n          phones: [...data],\n        });\n      }\n    );\n  }\n\n  getFiltredPhones = (values) => {\n    let filtredPhones = [];\n    const { phones } = this.state;\n\n    if (values.query) {\n      filtredPhones = phones.filter(phone => (\n        phone.name.toLowerCase().includes(values.query)\n      ));\n    } else {\n      filtredPhones = [...phones];\n    }\n\n    if (values.sort) {\n      filtredPhones = [...filtredPhones].sort(getSortFunc(values.sort));\n    }\n\n    return filtredPhones;\n  }\n\n  render() {\n    const { search } = this.props.location;\n\n    const searchValues = {\n      query: '',\n      sort: '',\n    };\n\n    if (search) {\n      const partsOfSeach = search.slice(1).split('&');\n\n      for (let i = 0; i < partsOfSeach.length; i += 1) {\n        const [key, value] = partsOfSeach[i].split('=');\n\n        searchValues[key] = value;\n      }\n    }\n\n    const filtredPhones = this.getFiltredPhones(searchValues);\n\n    return (\n      <div className=\"phones-page\">\n        <Filter searchValues={searchValues} />\n\n        <div>\n          <PhoneCatalog phones={filtredPhones} />\n        </div>\n      </div>\n    );\n  }\n}\n\nPhonePage.propTypes = {\n  location: PropTypes.shape({\n    search: PropTypes.string,\n  }).isRequired,\n};\n\nexport default PhonePage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst NotFoundPage = () => (\n  <div>\n    <div>\n      404\n      Not Found\n    </div>\n\n    <div>\n      {`You may go to `}\n      <Link to=\"/\">\n        Home page\n      </Link>\n      {` and try find what you look for`}\n    </div>\n  </div>\n);\n\nexport default NotFoundPage;\n","import React from 'react';\nimport './phoneDetails.css';\n\nconst PhoneDetails = () => (\n  <div>\n    Phone Details\n  </div>\n);\n\nexport default PhoneDetails;\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { getPhoneDetails } from '../loadingData';\nimport PhoneDetails from '../phoneDetails/PhoneDetails';\nimport './phoneDetailsPage.css';\n\nclass PhoneDetailsPage extends React.Component {\n  state = {\n    phone: [],\n    mainImg: '',\n    isError: '',\n  }\n\n  componentDidMount() {\n    const { phoneId } = this.props.match.params;\n\n    getPhoneDetails(phoneId).then(\n      (data) => {\n        this.setState({\n          phone: { ...data },\n          mainImg: data.images[0],\n        });\n      }\n    ).catch(\n      (error) => {\n        this.setState({\n          isError: error,\n        });\n      }\n    );\n  }\n\n  changeImg = image => (\n    this.setState({\n      mainImg: image,\n    })\n  );\n\n  addToBasket = (id, name) => {\n    const { history } = this.props;\n\n    if (localStorage.getItem('buy')) {\n      localStorage.buy += `&${id}*1`;\n    } else {\n      localStorage.buy = `${id}*1`;\n    }\n\n    localStorage.setItem(id, name);\n\n    history.replace(history.location);\n  };\n\n  render() {\n    const { phone, mainImg, isError } = this.state;\n    const countBasketItems = localStorage.buy ? localStorage.buy.split('&').length : 0;\n\n    return (\n      <div className=\"phone-details-page\">\n        {\n          countBasketItems !== 0 && (\n            <div className=\"header__basket--count\">\n              {countBasketItems !== 0 && countBasketItems}\n            </div>\n          )\n        }\n\n        {\n          !isError\n            ? (\n              <>\n                <div className=\"phone-details-page__main-img\">\n                  <img src={mainImg} alt=\"\" />\n                </div>\n\n                <div className=\"phone-details-page__info\">\n                  <div className=\"phone-details-page__info--name\">\n                    <h1>\n                      {phone.name}\n                    </h1>\n\n                    <button\n                      type=\"button\"\n                      disabled={localStorage.getItem(phone.id) && true}\n                      className=\"phone-catalog__phone--buy\"\n                      onClick={() => this.addToBasket(phone.id, phone.name)}\n                    >\n                      {\n                        localStorage.getItem(phone.id)\n                          ? 'Added to basket'\n                          : 'Buy'\n                      }\n                    </button>\n                  </div>\n\n                  <p>\n                    {phone.description}\n                  </p>\n\n                  <div className=\"phone-details-page__info--imges\">\n                    {\n                      (phone.images)\n                        && phone.images.map(image => (\n                          <div\n                            className={`phone-details-page__info--img\n                              ${mainImg === image ? 'select' : undefined}`}\n                          >\n                            <img\n                              src={`./${image}`}\n                              alt=\"\"\n                              onClick={() => this.changeImg(image)}\n                            />\n                          </div>\n                        ))\n                    }\n                  </div>\n                </div>\n\n                <div id=\"details\" className=\"phone-details-page__details\">\n                  <PhoneDetails />\n                </div>\n              </>\n            )\n            : (\n              <div>\n                Sorry, we cannot find a page.\n              </div>\n            )\n        }\n      </div>\n    );\n  }\n}\n\nPhoneDetailsPage.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      phoneId: PropTypes.string,\n    }),\n  }).isRequired,\n  history: PropTypes.shape({\n    replace: PropTypes.func,\n  }).isRequired,\n};\n\nexport default PhoneDetailsPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './basket.css';\n\nconst Basket = ({ history }) => {\n  const currentBuy = localStorage.buy\n    && localStorage.buy\n      .split('&')\n      .map(item => item.split('*'));\n\n  const deleteItem = (id) => {\n    let newBuy = currentBuy.filter(item => item[0] !== id);\n\n    localStorage.removeItem(id);\n\n    if (newBuy.length !== 0) {\n      newBuy = newBuy.map(item => item.join('*')).join('&');\n      localStorage.setItem('buy', newBuy);\n    } else {\n      localStorage.removeItem('buy');\n    }\n\n    history.replace(history.location);\n  };\n\n  const increase = (id) => {\n    let newBuy = [...currentBuy];\n    const index = currentBuy.indexOf(id);\n\n    newBuy[index] = [id[0], +id[1] + 1];\n\n    newBuy = newBuy.map(item => item.join('*')).join('&');\n\n    localStorage.setItem('buy', newBuy);\n\n    history.replace(history.location);\n  };\n\n  const decrease = (id) => {\n    let newBuy = [...currentBuy];\n    const index = currentBuy.indexOf(id);\n\n    if (+id[1] - 1 !== 0) {\n      newBuy[index] = [id[0], +id[1] - 1];\n\n      newBuy = newBuy.map(item => item.join('*')).join('&');\n\n      localStorage.setItem('buy', newBuy);\n\n      history.replace(history.location);\n    } else {\n      deleteItem(id[0]);\n    }\n  };\n\n  return (\n    <div className=\"basket\">\n      <ul className=\"basket__list\">\n        {\n          currentBuy\n            ? currentBuy.map((item, index) => (\n              <li className=\"basket__list--item\">\n                <div>\n                  <span>\n                    {`${index + 1}.  `}\n                  </span>\n\n                  <Link\n                    to={`/phones/${item[0]}`}\n                    className=\"\"\n                  >\n                    {localStorage[item[0]]}\n                  </Link>\n                </div>\n\n                <div>\n                  <button\n                    type=\"button\"\n                    onClick={() => decrease(item)}\n                  >\n                    -\n                  </button>\n\n                  <input\n                    className=\"basket__count\"\n                    value={item[1]}\n                  />\n\n                  <button\n                    type=\"button\"\n                    onClick={() => increase(item)}\n                  >\n                    +\n                  </button>\n\n                  <button\n                    className=\"basket__delete\"\n                    type=\"button\"\n                    onClick={() => deleteItem(item[0])}\n                  >\n                    x\n                  </button>\n                </div>\n              </li>\n            ))\n            : (\n              <div className=\"basket__empty\">\n                Basket is empty\n              </div>\n            )\n        }\n      </ul>\n    </div>\n  );\n};\n\nBasket.propTypes = {\n  history: PropTypes.shape({\n    replace: PropTypes.func,\n  }).isRequired,\n};\n\nexport default Basket;\n","import React from 'react';\nimport { NavLink, Switch, Route } from 'react-router-dom';\nimport HomePage from './components/homePage/HomePage';\nimport PhonesPage from './components/phonesPage/PhonesPage';\nimport NotFoundPage from './components/notFoundPage/NotFoundPage';\nimport PhoneDetailsPage from './components/phoneDetailsPage/PhoneDetailsPage';\nimport Basket from './components/basket/Basket';\nimport './App.css';\n\nconst App = () => (\n  <>\n    <header className=\"header\">\n      <nav className=\"header__nav\">\n        <ul className=\"header__nav--list\">\n          <li>\n            <NavLink\n              to=\"/\"\n              exact\n              activeClassName=\"active\"\n            >\n              Home\n            </NavLink>\n          </li>\n\n          <li>\n            <NavLink to=\"/phones\">\n              Phones\n            </NavLink>\n          </li>\n        </ul>\n      </nav>\n\n      <div className=\"header__basket\">\n        <NavLink to=\"/basket\">\n          <img src=\"./img/ico/cart-icon.png\" alt=\"\" />\n        </NavLink>\n      </div>\n    </header>\n\n    <div>\n      <Switch>\n        <Route path=\"/\" exact component={HomePage} />\n        <Route path=\"/phones/:phoneId\" component={PhoneDetailsPage} />\n        <Route path=\"/phones\" component={PhonesPage} />\n        <Route path=\"/basket\" component={Basket} />\n        <Route component={NotFoundPage} />\n      </Switch>\n    </div>\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>, document.getElementById('root')\n);\n"],"sourceRoot":""}